{
  "id": "GitHub",
  "meta": {
    "name": "GitHubé¡¹ç›®ç›‘æ§",
    "version": "1.0",
    "author": "LiteMonitor",
    "description": "ç›‘æ§ GitHub é¡¹ç›®çš„ Starã€Forkã€Issues æ•°é‡"
  },
  "inputs": [
    {
      "key": "repo_path",
      "label": "ä»“åº“è·¯å¾„",
      "type": "text",
      "default": "diorser/LiteMonitor",
      "placeholder": "owner/repo",
      "scope": "target"
    },
    {
      "key": "display_mode",
      "label": "æ˜¾ç¤ºå†…å®¹",
      "type": "select",
      "default": "star_only",
      "scope": "target",
      "options": [
        { "label": "ä»… Star (ğŸŒŸ 1.2k)", "value": "star_only" },
        { "label": "Star + Fork (ğŸŒŸ 1.2k ğŸ”€ 300)", "value": "star_fork" },
        { "label": "Star + Issues (ğŸŒŸ 1.2k â­• 5)", "value": "star_issue" },
        { "label": "è¯¦ç»†æ•°æ® (ğŸŒŸ1.2k ğŸ”€300 â­•5)", "value": "detail" }
      ]
    }
  ],
  "execution": {
    "type": "chain",
    "interval": 300,
    "steps": [
      {
        "id": "fetch_github",
        "url": "https://api.github.com/repos/{{repo_path}}",
        "method": "GET",
        "response_format": "json",
        "extract": {
          "stars": "stargazers_count",
          "forks": "forks_count",
          "issues": "open_issues_count",
          "repo_name": "name"
        },
        "process": [
          {
            "var": "repo_short",
            "source": "repo_path",
            "function": "regex_match",
            "pattern": "([^/]+)$",
            "to": "1"
          },
          {
            "var": "display_template",
            "source": "display_mode",
            "function": "map",
            "map": {
              "star_only": "ğŸŒŸ{{stars}}",
              "star_fork": "ğŸŒŸ{{stars}}  ğŸ”€{{forks}}",
              "star_issue": "ğŸŒŸ{{stars}}  â­•{{issues}}",
              "detail": "ğŸŒŸ{{stars}} ğŸ”€{{forks}} â­•{{issues}}"
            }
          },
          {
            "var": "final_display",
            "source": "display_template",
            "function": "resolve_template"
          }
        ]
      }
    ]
  },
  "outputs": [
    {
      "key": "stats",
      "label": "{{repo_name ?? repo_short ?? repo_path}}",
      "short_label": "Git",  
      "format_val": "{{final_display}}",
      "unit": ""
    }
  ]
}